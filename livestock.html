<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Fish & Corals â€” Bruno's Aquariums</title>

  <link rel="stylesheet" href="assets/css/styles.css?v=9" />
  <link rel="icon" href="assets/img/favicon.png" />
  <meta name="description" content="Weekly arrivals and in-stock livestock: freshwater fish, saltwater fish, and corals & inverts at Brunoâ€™s Aquariums, Huron SD.">

  <style>
    /* Gallery layout */
    .gallery{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem;justify-content:center}
    .tile{position:relative;overflow:hidden;border-radius:.8rem;border:1px solid #1f2a3a;background:#0f172a;box-shadow:var(--shadow)}
    .tile img{display:block;width:100%;height:180px;object-fit:cover;transition:transform .25s ease}
    .tile:hover img{transform:scale(1.04)}
    .cap{padding:.55rem .65rem;font-size:.95rem;border-top:1px solid #1f2a3a}
    .badge{position:absolute;left:.55rem;top:.55rem;background:rgba(14,165,233,.9);color:#06131f;font-weight:700;border-radius:.5rem;padding:.2rem .45rem;font-size:.8rem}

    /* Simple lightbox */
    dialog.lightbox{border:none;padding:0;background:transparent}
    .lightbox::backdrop{background:rgba(0,0,0,.75)}
    .lightbox img{max-width:90vw;max-height:85vh;border-radius:.8rem;display:block}
    .lightbox .meta{margin-top:.4rem;color:#e2e8f0;text-align:center}
    .lightbox .close{position:absolute;top:1rem;right:1rem;background:rgba(15,23,42,.9);border:1px solid #334155;border-radius:.5rem;color:#e2e8f0;padding:.35rem .6rem;cursor:pointer}
  </style>
</head>

<body>
<header class="site-header" role="banner">
  <div class="container header-inner">
    <a class="brand" href="index.html" aria-label="Bruno's Aquariums â€” Home">
      <img class="logo-img" src="assets/img/brunos-logo.svg" alt="Bruno's Aquariums logo" style="height:36px">
      <span class="brand-text">Bruno's Aquariums</span>
    </a>

    <button class="nav-toggle" aria-controls="site-nav" aria-expanded="false">Menu</button>
    <nav id="site-nav" class="site-nav" role="navigation" aria-label="Main">
      <ul>
        <li><a href="aquariums.html">Aquariums</a></li>
        <li><a href="accessories.html">Accessories</a></li>
        <li><a class="active" href="livestock.html" aria-current="page">Fish & Corals</a></li>
        <li><a href="maintenance.html">Maintenance</a></li>
        <li><a href="about.html">About</a></li>
        <li><a class="btn-ghost" href="index.html#appointments">Book&nbsp;Appointment</a></li>
        <li><a class="btn" href="contact.html">Contact</a></li>
      </ul>
    </nav>
  </div>
</header>

<main class="content">
  <!-- HERO -->
  <section class="page-hero centered section">
    <div class="container">
      <h1>Fish & Corals â€” Weekly Arrivals</h1>
      <p class="muted">All livestock is quarantined and carefully acclimated. Availability changes fastâ€”photos show typical specimens.</p>
    </div>
  </section>

  <!-- WEEKLY -->
  <section class="container section">
    <h2>ðŸ—“ This Weekâ€™s Arrivals</h2>
    <p class="muted" style="margin-top:-.25rem">Update photos in <code>assets/data/livestock.json</code>.</p>
    <div class="gallery" id="weekly"></div>
  </section>

  <!-- FRESHWATER -->
  <section class="container section">
    <h2>Freshwater Fish</h2>
    <div class="gallery" id="freshwater"></div>
  </section>

  <!-- SALTWATER -->
  <section class="container section">
    <h2>Saltwater Fish</h2>
    <div class="gallery" id="saltwater"></div>
  </section>

  <!-- CORALS & INVERTS -->
  <section class="container section">
    <h2>Corals & Inverts</h2>
    <div class="gallery" id="corals"></div>
  </section>
</main>

<footer class="site-footer" role="contentinfo">
  <div class="container footer-grid">
    <div>
      <p style="display:flex;align-items:center;gap:.6rem;margin:0 0 .5rem 0;">
        <img class="logo-img" src="assets/img/brunos-logo.svg" alt="Bruno's Aquariums logo" style="height:20px">
        <strong>Bruno's Aquariums</strong>
      </p>
      <p>Freshwater & Saltwater â€¢ Tanks, Gear, Livestock â€¢ Install & Maintenance</p>
    </div>
    <div>
      <h4>Visit</h4>
      <p><a href="https://maps.google.com/?q=256%20Dakota%20Ave%20S,%20Huron,%20SD%2057350" target="_blank" rel="noopener">256 Dakota Ave S, Huron, SD 57350</a></p>
      <p><a href="tel:+16053506478">605-350-6478</a></p>
    </div>
    <div>
      <h4>Hours</h4>
      <p>Moâ€“Fr 10:00amâ€“8:00pm â€¢ Sa 10:00amâ€“8:00pm â€¢ Su Closed</p>
    </div>
  </div>
  <div class="container legal">
    <p>Â© <span id="year"></span> Bruno's Aquariums. All rights reserved.</p>
  </div>
</footer>

<script src="assets/js/main.js?v=9"></script>
<script>
  // Footer year
  document.getElementById('year').textContent = new Date().getFullYear();

  // Tiny helper to build elements
  function el(tag, attrs = {}, children = []) {
    const n = document.createElement(tag);
    Object.entries(attrs).forEach(([k, v]) => (k === 'class') ? n.className = v : n.setAttribute(k, v));
    (Array.isArray(children) ? children : [children]).forEach(c => {
      if (typeof c === 'string') n.appendChild(document.createTextNode(c));
      else if (c) n.appendChild(c);
    });
    return n;
  }

  function tile(item){
    const fig = el('figure', {class: 'tile'});
    if (item.badge) fig.appendChild(el('span',{class:'badge'}, item.badge));
    const a = el('a', {href:'#','data-full':item.src,'data-alt':item.alt||'','data-caption':item.caption||''});
    const img = el('img', {src:item.src, alt:item.alt||item.caption||'Livestock image', loading:'lazy'});
    a.appendChild(img);
    fig.appendChild(a);
    if (item.caption) fig.appendChild(el('figcaption',{class:'cap'}, item.caption));
    return fig;
  }

  // Lightbox
  const lb = document.createElement('dialog');
  lb.className = 'lightbox';
  lb.innerHTML = `
    <button class="close" aria-label="Close">Close</button>
    <img alt="">
    <div class="meta"></div>
  `;
  document.body.appendChild(lb);
  lb.querySelector('.close').addEventListener('click', ()=> lb.close());
  lb.addEventListener('click', (e)=> { if (e.target === lb) lb.close(); });

  function bindLightbox(root){
    root.addEventListener('click', (e)=>{
      const a = e.target.closest('a[data-full]');
      if (!a) return;
      e.preventDefault();
      lb.querySelector('img').src = a.dataset.full;
      lb.querySelector('img').alt = a.dataset.alt || '';
      lb.querySelector('.meta').textContent = a.dataset.caption || '';
      lb.showModal();
    });
  }

  // Load JSON and render galleries
  fetch('assets/data/livestock.json')
    .then(r => r.json())
    .then(data => {
      const sections = ['weekly','freshwater','saltwater','corals'];
      sections.forEach(id => {
        const root = document.getElementById(id);
        if (!root || !Array.isArray(data[id])) return;
        data[id].forEach(item => root.appendChild(tile(item)));
        bindLightbox(root);
      });
    })
    .catch(err => {
      console.error('Failed to load livestock.json', err);
      ['weekly','freshwater','saltwater','corals'].forEach(id=>{
        const root = document.getElementById(id);
        if (root) root.innerHTML = '<p class="muted">Photos coming soon.</p>';
      });
    });
</script>
</body>
</html>
